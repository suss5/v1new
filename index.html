<html>
<body>
 <button id="generate" onclick="gen()">Generate</button>
 <button id="sort" onclick="mySort()">Sort</button>
 <canvas id="Canvas1" width="800" height="400"></canvas>
<script>
var c1 = document.getElementById("Canvas1");
var ct1 = c1.getContext("2d");
var arr=[1,2,3,4,5,6,7,8]
var result=[0,0,0,0,0,0,0,0,0,0]
ct1.font="18px Monospace"
display()
var count=0
 
function gen(){
  for(i=0;i<8;i++){
    arr[i]=Math.floor(Math.random()*10 +1)
  }
  display()
}
function display(){
  ct1.clearRect(0,0,800,800)
  for(i=0;i<8;i++){
    ct1.fillText(arr[i],50+60*i,80)
   ct1.fillRect(30+60*i,100,40,arr[i]*20)
  }
}
function mySort(){
 count=0
 sorting()
}
function sorting(){
  sorted=true
  count++
  for (i=0;i<7;i++){
    if(arr[i]>arr[i+1]){
      sorted=false
      temp=arr[i]
      arr[i]=arr[i+1]
      arr[i+1]=temp
    }
  }
  display()
  if(sorted==false){ setTimeout(sorting,300) }
  else{result[count]++
       setTimeout(results,1000)
        
     }
 
}
 function results(){
  alert(results)
  gen()
  mySort()
 }
</script>
</body>
</html>
